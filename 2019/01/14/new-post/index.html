<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Python walrus update if | Saint.Life</title><meta name="description" content="A visual breakdown of how to use the ET jekyll theme"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="icon" href="/favicon.ico" type="image/x-icon"><link href='/feed.xml' rel='alternate' type='application/atom+xml'><link rel="canonical" href="/2019/01/14/new-post/"><link rel="stylesheet" href="/style.css"><link rel="stylesheet" href="//unpkg.com/@highlightjs/cdn-assets@11.6.0/styles/default.min.css"> <script src="//unpkg.com/@highlightjs/cdn-assets@11.6.0/highlight.min.js"></script> <script> function handleClick(url) { console.log("WOEOEOE"); const isTextSelected = window.getSelection().toString(); if (!isTextSelected) { location.href = url; } } </script><style> .hljs { color: unset; background: #282828; } .hljs-built_in { color: #a7557e; } pre code.hljs { padding: 0; padding-left: 1rem; padding-bottom: 1rem; }</style><body> <script>hljs.highlightAll();</script><main><header> <a class="title" onclick="location.href='/'">Saint.Life</a><div class="links"> <a class="header-link" href="/posts">posts</a> <a class="header-link">github</a> <a class="header-link">youtube</a> <a class="header-link">wiki</a></div></header><!--<nav class="sans"> --> <!-- <input class="menu-btn" type="checkbox" id="menu-btn" /> --> <!--<p><label class="menu-icon" for="menu-btn">Menu</label></p>--> <!--<ul class="site-nav"> --> <!--<li><a href="/">Home</a> --> <!--<li><a href="/articles">Articles</a> --> <!--</ul>--> <!--</nav>--><article><div class="post-header"><div class="title-list post"> Python walrus update if</div><p class="date-list"> <span class="post"> Jan 14, 2019 </span></p></div><p>A pretty (common) use case is to have a variable update only upon a condition. For example updating a minLength value:</p><pre class="code">
<code class="language-python">
if minLength &gt; len(cat)- len(dog):
  minLength = len(cat) - len(cat)
</code>
</pre><p>Which is inefficient because it has to do the calculation twice, plus you have to type it out. Typically the optimization would be</p><pre class="code">
<code class="language-python">
lenDiff = len(cat) - len(dog):
if minLength &gt; lenDiff:
  minLength = lenDiff
</code>
</pre><p>With python’s walrus operator, you can do an assign statement inside an if statement</p><pre class="code">
<code class="language-python">
if minLength &gt; lenDiff:= len(cat) - len(dog):
  minLength = lenDiff
  </code>
</pre><!--more--><p>Which just comes across to me as more elegant and straightforward to write. Typically when hearing about the walrus operator, which is relatively new to python<span class="sidenote-number"></span>, I would only see the example of it being used in a while loop, so I thought this would be handy. <span class="sidenote">Walrus operators where introduced in Python3.8, which came out Oct 2019</span></p><p>Unfortunately lenDiff is still scoped outside of the if-statement, so there is an amount of namespace pollution just like with other solutions.</p><hr><p><a href="/posts">← Go to all posts</a></p></article></main><div class="bottom-footer">†</div><!-- <script type="text/x-mathjax-config"> --> <!-- MathJax.Hub.Config({ --> <!-- extensions: ["tex2jax.js", "TeX/AMSmath.js"], --> <!-- jax: ["input/TeX", "output/SVG"], --> <!-- }) --> <!-- </script> --> <!-- <script type="text/javascript" async --> <!-- src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=default"> --> <!-- </script> -->
